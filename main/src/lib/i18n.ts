export type Locale = "ru" | "en" | "zh";

export const LOCALES: Locale[] = ["ru", "en", "zh"];
export const DEFAULT_LOCALE: Locale = "ru";

type Dict = Record<string, string>;

const ru: Dict = {
  "brand.tagline": "подарочная упаковка",

  "nav.shop": "Магазин",
  "nav.wholesale": "Опт",
  "nav.blog": "Блог",
  "nav.partners": "Партнёры",
  "nav.about": "О нас",
  "nav.contact": "Контакты",
  "nav.cart": "Корзина",
  "nav.favorites": "Избранное",

  "lang.ru": "RU",
  "lang.en": "EN",
  "lang.zh": "中文",

  "common.inStockOnly": "Только в наличии",
  "common.reset": "Сбросить",
  "common.search": "Поиск",
  "common.found": "Найдено",
  "common.back": "Назад",
  "common.loading": "Загрузка…",

  "badge.featured": "Витрина",
  "badge.new": "Новинка",
  "badge.popular": "Популярное",
  "badge.sale": "Скидка",

  "filters.title": "Фильтры",
  "filters.searchPlaceholder": "Название, коллекция…",
  "filters.picks": "Подборки",
  "filters.picks.new": "Новинки",
  "filters.picks.popular": "Популярное",
  "filters.picks.sale": "Скидки",
  "filters.type": "Тип",
  "filters.color": "Цвет",
  "filters.material": "Материал",
  "filters.size": "Размер",
  "filters.occasion": "Повод",
  "filters.collection": "Коллекция",

  "shop.catalog.title": "Каталог",
  "shop.catalog.desc": "Быстрые фильтры по типу, цвету, материалу, размеру, поводу и коллекции.",
  "shop.catalog.empty": "Ничего не найдено. Попробуйте снять часть фильтров.",

  "actions.addToCart": "В корзину",
  "actions.addToCartFull": "Добавить в корзину",
  "actions.addWholesale": "Добавить оптом",
  "actions.quickOrder": "Быстрый заказ →",
  "actions.openCatalog": "Открыть каталог",
  "actions.continueShopping": "Продолжить покупки →",
  "actions.checkout": "Оформить заявку",
  "actions.backToCatalog": "← Назад в каталог",
  "actions.print": "Печать / Сохранить PDF",
  "actions.openQuote": "Коммерческое предложение",

  "favorites.title": "Избранное",
  "favorites.empty": "Пока пусто. Отмечайте товары сердечком — они появятся здесь.",
  "favorites.addAllToCart": "Добавить всё в корзину",

  "cart.title": "Корзина",
  "cart.desc": "В корзине можно смешивать розничные и оптовые позиции.",
  "cart.empty": "Корзина пуста.",
  "cart.total": "Итого",
  "cart.retail": "Розница",
  "cart.wholesale": "Опт",
  "cart.grandTotal": "Всего",
  "cart.remove": "Удалить",
  "cart.price": "Цена",
  "cart.sum": "Сумма",
  "cart.note": "После отправки заявки мы свяжемся с вами, уточним детали и подтвердим наличие.",
  "cart.quote.note": "Откройте КП и сохраните как PDF через печать браузера.",

  "checkout.title": "Оформление заявки",
  "checkout.desc": "Оставьте контакты — мы уточним детали и подтвердим заказ.",
  "checkout.name": "Имя",
  "checkout.email": "Email",
  "checkout.phone": "Телефон",
  "checkout.comment": "Комментарий (опционально)",
  "checkout.submit": "Отправить заявку",
  "checkout.sending": "Отправляем…",
  "checkout.sent.title": "Спасибо — заявка отправлена",
  "checkout.sent.desc": "Мы получили заявку и свяжемся с вами, чтобы подтвердить наличие, оплату и доставку.",
  "checkout.backToCatalog": "Вернуться в каталог",
  "checkout.home": "На главную",

  "quote.title": "Коммерческое предложение",
  "quote.subtitle": "Сформировано на основе товаров в корзине.",
  "quote.meta": "Дата",
  "quote.to": "Кому",
  "quote.from": "От кого",
  "quote.company": "Компания",
  "quote.contact": "Контактное лицо",
  "quote.email": "Email",
  "quote.phone": "Телефон",
  "quote.address": "Адрес",
  "quote.table.item": "Позиция",
  "quote.table.qty": "Кол-во",
  "quote.table.price": "Цена",
  "quote.table.sum": "Сумма",
  "quote.total": "Итого",
  "quote.footer": "Если нужно уточнить наличие, сроки и доставку — ответьте на письмо или напишите нам.",
};

const en: Dict = {
  "brand.tagline": "gift packaging",

  "nav.shop": "Shop",
  "nav.wholesale": "Wholesale",
  "nav.blog": "Journal",
  "nav.partners": "Partners",
  "nav.about": "About",
  "nav.contact": "Contacts",
  "nav.cart": "Cart",
  "nav.favorites": "Favorites",

  "lang.ru": "RU",
  "lang.en": "EN",
  "lang.zh": "中文",

  "common.inStockOnly": "In stock only",
  "common.reset": "Reset",
  "common.search": "Search",
  "common.found": "Found",
  "common.back": "Back",
  "common.loading": "Loading…",

  "badge.featured": "Featured",
  "badge.new": "New",
  "badge.popular": "Popular",
  "badge.sale": "Sale",

  "filters.title": "Filters",
  "filters.searchPlaceholder": "Name, collection…",
  "filters.picks": "Highlights",
  "filters.picks.new": "New",
  "filters.picks.popular": "Popular",
  "filters.picks.sale": "Sale",
  "filters.type": "Type",
  "filters.color": "Color",
  "filters.material": "Material",
  "filters.size": "Size",
  "filters.occasion": "Occasion",
  "filters.collection": "Collection",

  "shop.catalog.title": "Catalog",
  "shop.catalog.desc": "Quick filters by type, color, material, size, occasion and collection.",
  "shop.catalog.empty": "No results. Try removing some filters.",

  "actions.addToCart": "Add",
  "actions.addToCartFull": "Add to cart",
  "actions.addWholesale": "Add wholesale",
  "actions.quickOrder": "Quick order →",
  "actions.openCatalog": "Open catalog",
  "actions.continueShopping": "Continue shopping →",
  "actions.checkout": "Submit request",
  "actions.backToCatalog": "← Back to catalog",
  "actions.print": "Print / Save as PDF",
  "actions.openQuote": "Commercial offer",

  "favorites.title": "Favorites",
  "favorites.empty": "Nothing here yet. Tap the heart on a product to save it.",
  "favorites.addAllToCart": "Add all to cart",

  "cart.title": "Cart",
  "cart.desc": "You can mix retail and wholesale items in the same cart.",
  "cart.empty": "Your cart is empty.",
  "cart.total": "Summary",
  "cart.retail": "Retail",
  "cart.wholesale": "Wholesale",
  "cart.grandTotal": "Total",
  "cart.remove": "Remove",
  "cart.price": "Price",
  "cart.sum": "Amount",
  "cart.note": "After you submit the request, we will contact you to confirm stock and details.",
  "cart.quote.note": "Open the offer and save it as a PDF via your browser print dialog.",

  "checkout.title": "Checkout request",
  "checkout.desc": "Leave your contact details — we will confirm the order and next steps.",
  "checkout.name": "Name",
  "checkout.email": "Email",
  "checkout.phone": "Phone",
  "checkout.comment": "Comment (optional)",
  "checkout.submit": "Submit request",
  "checkout.sending": "Sending…",
  "checkout.sent.title": "Thank you — request sent",
  "checkout.sent.desc": "We received your request and will contact you to confirm availability, payment and delivery.",
  "checkout.backToCatalog": "Back to catalog",
  "checkout.home": "Home",

  "quote.title": "Commercial offer",
  "quote.subtitle": "Generated from the items in your cart.",
  "quote.meta": "Date",
  "quote.to": "To",
  "quote.from": "From",
  "quote.company": "Company",
  "quote.contact": "Contact person",
  "quote.email": "Email",
  "quote.phone": "Phone",
  "quote.address": "Address",
  "quote.table.item": "Item",
  "quote.table.qty": "Qty",
  "quote.table.price": "Price",
  "quote.table.sum": "Amount",
  "quote.total": "Total",
  "quote.footer": "For stock, lead time and delivery — reply to the email or message us.",
};

const zh: Dict = {
  "brand.tagline": "礼品包装",

  "nav.shop": "商店",
  "nav.wholesale": "批发",
  "nav.blog": "杂志",
  "nav.partners": "合作",
  "nav.about": "关于",
  "nav.contact": "联系",
  "nav.cart": "购物车",
  "nav.favorites": "收藏",

  "lang.ru": "RU",
  "lang.en": "EN",
  "lang.zh": "中文",

  "common.inStockOnly": "仅现货",
  "common.reset": "重置",
  "common.search": "搜索",
  "common.found": "找到",
  "common.back": "返回",
  "common.loading": "加载中…",

  "badge.featured": "精选",
  "badge.new": "新品",
  "badge.popular": "热门",
  "badge.sale": "折扣",

  "filters.title": "筛选",
  "filters.searchPlaceholder": "名称、系列…",
  "filters.picks": "推荐",
  "filters.picks.new": "新品",
  "filters.picks.popular": "热门",
  "filters.picks.sale": "折扣",
  "filters.type": "类型",
  "filters.color": "颜色",
  "filters.material": "材质",
  "filters.size": "尺寸",
  "filters.occasion": "场合",
  "filters.collection": "系列",

  "shop.catalog.title": "商品目录",
  "shop.catalog.desc": "按类型、颜色、材质、尺寸、场合与系列快速筛选。",
  "shop.catalog.empty": "没有结果。请尝试取消部分筛选条件。",

  "actions.addToCart": "加入购物车",
  "actions.addToCartFull": "加入购物车",
  "actions.addWholesale": "批发加入",
  "actions.quickOrder": "快速下单 →",
  "actions.openCatalog": "打开目录",
  "actions.continueShopping": "继续购物 →",
  "actions.checkout": "提交申请",
  "actions.backToCatalog": "← 返回目录",
  "actions.print": "打印 / 保存为 PDF",
  "actions.openQuote": "报价单",

  "favorites.title": "收藏",
  "favorites.empty": "暂时为空。点击商品上的爱心即可收藏。",
  "favorites.addAllToCart": "全部加入购物车",

  "cart.title": "购物车",
  "cart.desc": "购物车中可同时包含零售与批发商品。",
  "cart.empty": "购物车为空。",
  "cart.total": "汇总",
  "cart.retail": "零售",
  "cart.wholesale": "批发",
  "cart.grandTotal": "合计",
  "cart.remove": "删除",
  "cart.price": "单价",
  "cart.sum": "金额",
  "cart.note": "提交申请后，我们会联系你确认库存与细节。",
  "cart.quote.note": "打开报价单并通过浏览器打印保存为 PDF。",

  "checkout.title": "提交订单申请",
  "checkout.desc": "请留下联系方式，我们将确认订单与后续步骤。",
  "checkout.name": "姓名",
  "checkout.email": "邮箱",
  "checkout.phone": "电话",
  "checkout.comment": "备注（可选）",
  "checkout.submit": "提交申请",
  "checkout.sending": "发送中…",
  "checkout.sent.title": "谢谢 — 已提交",
  "checkout.sent.desc": "我们已收到申请，将联系你确认库存、付款与配送。",
  "checkout.backToCatalog": "返回目录",
  "checkout.home": "返回首页",

  "quote.title": "报价单",
  "quote.subtitle": "根据购物车商品自动生成。",
  "quote.meta": "日期",
  "quote.to": "收件方",
  "quote.from": "发件方",
  "quote.company": "公司",
  "quote.contact": "联系人",
  "quote.email": "邮箱",
  "quote.phone": "电话",
  "quote.address": "地址",
  "quote.table.item": "商品",
  "quote.table.qty": "数量",
  "quote.table.price": "单价",
  "quote.table.sum": "金额",
  "quote.total": "合计",
  "quote.footer": "如需确认库存、周期与配送，请回复邮件或联系我们。",
};

export const MESSAGES: Record<Locale, Dict> = { ru, en, zh };

export function translate(locale: Locale, key: string, vars?: Record<string, string | number>) {
  const dict = MESSAGES[locale] || MESSAGES[DEFAULT_LOCALE];
  const template = dict[key] ?? MESSAGES[DEFAULT_LOCALE][key] ?? key;

  if (!vars) return template;

  return template.replace(/\{(\w+)\}/g, (_, k) => {
    const v = vars[k];
    return v === undefined || v === null ? "" : String(v);
  });
}
